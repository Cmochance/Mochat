# ========================================
# Mochat 环境变量配置模板
# 复制此文件为 .env 并填写实际值
# cp env.template .env
# ========================================

# ---------- 应用配置 ----------
# JWT密钥（生产环境请更换为随机字符串）
SECRET_KEY=mochat-secret-key-change-this-in-production

# JWT算法
ALGORITHM=HS256

# Token过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ---------- 数据库配置 ----------
# SQLite数据库路径（相对于backend目录）
DATABASE_URL=sqlite+aiosqlite:///./mochat.db

# ---------- AI模型配置 ----------
# AI服务API密钥（必填）
AI_API_KEY=your-openai-api-key-here
AI_BASE_URL=https://api.openai.com/v1
AI_MODEL=gemini-3-flash

# ---------- AI模型配置 ----------
# AI服务API密钥（必填）
GUARD_API_KEY=your-openai-api-key-here
GUARD_BASE_URL=https://api.openai.com/v1
GUARD_MODEL=gemini-3-flash

# ---------- CORS配置 ----------
# 允许的前端域名（逗号分隔）
CORS_ORIGINS=http://localhost:3721,http://localhost:3000

# ---------- 调试模式 ----------
# 是否开启调试模式（生产环境设为false）
DEBUG=true

# ---------- 验证码模块配置 ----------
# Resend API密钥（在 https://resend.com 获取）
RESEND_API_KEY=re_XVy7ayzQ_9RBMs89VkNJJ6Vi8wP4sGFkX

# 发件邮箱（需在Resend验证域名）
RESEND_FROM_EMAIL=noreply@auth.mochance.xyz

# 验证码配置
VERIFY_CODE_LENGTH=6
VERIFY_CODE_EXPIRE_MINUTES=5
VERIFY_MAX_ATTEMPTS=5
VERIFY_SEND_COOLDOWN_SECONDS=60
VERIFY_IP_HOURLY_LIMIT=10

# ---------- R2配置 -----------
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_BUCKET_NAME=your_bucket_name
R2_PUBLIC_DOMAIN=https://你的公开访问域名

# ---------- AI 参数配置 ----------
# 最大输出令牌数（根据模型能力调整）
AI_MAX_TOKENS=4096

# 温度参数（0-2，越高越随机）
AI_TEMPERATURE=0.7

# ========== AI 绘图服务配置 (picgenerate) ==========
# [翻译/优化 AI] 用于将中文 prompt 翻译优化为英文绘图 prompt
PICGEN_TRANSLATOR_API_KEY=your-translator-api-key
PICGEN_TRANSLATOR_API_BASE=https://your-translator-api-base/v1
PICGEN_TRANSLATOR_MODEL=gpt-4o-mini

# [绘图 AI] 用于根据英文 prompt 生成图像
PICGEN_IMAGE_API_KEY=your-image-api-key
PICGEN_IMAGE_API_BASE=https://your-image-api-base/v1
PICGEN_IMAGE_MODEL=gemini-3-image

# 服务端口（内部 3903，外部 30903）
PICGEN_PORT=3903
PICGEN_CORS_ORIGINS=http://localhost:3721,http://localhost:38721

# ---------- 主后端网关转发地址 ----------
# Docker 运行保持默认；本地非 Docker 调试时可改为 http://localhost:30903 / http://localhost:30904
PICGEN_INTERNAL_URL=http://picgenerate:3903
PPTGEN_INTERNAL_URL=http://pptgen:3904

# ---------- PPT 生成服务配置 (pptgen) ----------
PPTGEN_AI_API_KEY=your-ppt-ai-api-key
PPTGEN_AI_API_BASE=https://your-ppt-ai-api-base/v1
PPTGEN_AI_MODEL=gpt-4
PPTGEN_PORT=3904
PPTGEN_CORS_ORIGINS=http://localhost:3721,http://localhost:38721
PPTGEN_CLOUDRUN_URL=https://your-cloudrun-url
PPTGEN_CLOUDRUN_SECRET=your-cloudrun-secret
